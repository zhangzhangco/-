<!DOCTYPE html>
<html lang="en">
  {{>header}}
    <!-- Main content starts - do not edit above this line -->
    <table id="sorttableProjs" class="table table-small table-hover">
      <thead class="thead-light">
        <tr>
          <th scope="col">项目</th>
          <th scope="col">文件</th>
          <th scope="col" class="text-center text-nowrap">工作类型</th>
          <th scope="col">被批准</th>
          <th scope="col" class="d-none"></th>
          <th scope="col">状态</th>
          <th scope="col" class="d-none"></th>
          <th scope="col">组织</th>
          <th scope="col" class="d-none"></th>
          <th scope="col">影响标准</th>
          <th scope="col" class="d-none"></th>
          <th scope="col" class="col-3">里程碑</th>
          <th scope="col">依赖关系</th>
          <th scope="col" class="col-2">注释</th>
        </tr>
      </thead>
      <tbody id="searchTable">
        {{#dataProjects}}
        <tr id="{{../idType}}-{{projectId}}" {{#ifeq projectStatus "取消"}}class="cancelled"{{/ifeq}}{{#ifeq projectStatus "未决"}}class="pending"{{/ifeq}}>
          <td class="projectlabel">
            <a class="anchor" id="{{projectId}}" href="#{{projectId}}"></a><code>{{projectId}}</code>
          </td>
          <td>
            {{#if docId}}
            <a class="document-link clear-filter" href="../{{../htmlLink}}?search.search={{docId}}">{{getLabel docId}}</a>
            <br>
            [{{getStatus docId}}] {{{getstatusButton docId "12"}}}
            {{/if}}
            {{#if repo}}
            {{#if docId}}
            <br>
            {{/if}}
            [<a href="{{repo}}" target="_blank">Repo</a>]
            {{/if}}
          </td>
          <td>
            {{workType}}
          </td>
          <td class="text-center">
            {{#if projApproved}}<span class="label badge badge-success">是</span>{{/if}}
            {{#if projApprovedDate}}
            <br><span class="small">[Approved Date: {{projApprovedDate}}]</span>
            {{/if}}
            {{#unless projApproved}}<span class="label badge badge-warning">未决</span>{{/unless}}
          </td>
          <td class="d-none">
            {{#if projApproved}}是{{/if}}
            {{#unless projApproved}}未决{{/unless}}
          </td>
          <td class="text-center">
            {{#if projectLink}}<a href="{{projectLink}}" target="_blank">{{/if}}{{projectStatus}}{{#if projectLink}}</a>{{/if}}
          </td>
          <td class="d-none">
            {{projectStatus}}
          </td>
          <td>
            {{#if assignedGroup}}
            {{#with (groupIdLookup ../dataGroups assignedGroup)}}
            {{#if groupId}}<a href="../groups/{{../../htmlLink}}#{{groupId}}">{{/if}}{{groupOrg}} {{#if parentgroupId}}{{#with (groupIdLookup ../../dataGroups parentgroupId)}}{{groupName}}{{/with}} {{/if}}{{groupName}}{{#if groupDesc}} {{groupDesc}}{{/if}}{{#if groupId}}</a>{{/if}}
            {{/with}}
            {{/if}}
          </td>
          <td class="d-none">
            {{#if assignedGroup}}
            {{#with (groupIdLookup ../dataGroups assignedGroup)}}
            {{groupOrg}} {{#if parentgroupId}}{{#with (groupIdLookup ../../dataGroups parentgroupId)}}{{groupName}}{{/with}} {{/if}}{{groupName}}{{#if groupDesc}} {{groupDesc}}{{/if}}
            {{/with}}
            {{/if}}
          </td>
          <td class="p-1">
            {{#if docAffected}}
            <ul class="list-group list-group-flush">
            {{#docAffected}}
              <li class="list-group-item">
                <span class="small"><a class="document-link clear-filter" href="../{{../../htmlLink}}?search.search={{this}}">{{getLabel this}}</a> [{{getStatus this}}]</span> {{{getstatusButton this "10"}}}
              </li>
            {{/docAffected}}
            </ul>
            {{/if}}
          </td>
          <td class="d-none">
            {{#if projectMilestone}}
            {{#projectMilestone}}
            {{#if current}}
              {{milestoneAct}}
            {{/if}}
            {{/projectMilestone}}
            {{/if}}
          </td>
          <td class="p-1">
            {{#if projectMilestone}}
            {{#projectMilestone}}
            <div class="p-2{{#unless @last}} border-bottom{{/unless}}">
              {{milestoneAct}} {{#if current}}<span class="label badge badge-info float-right">Current</span>{{/if}}
              {{#if miledateStart}}
                <br>
                <span class="font-weight-bold small">Start Date:</span> {{miledateStart}}
              {{/if}}
              {{#if miledateEnd}}
                <br>
                <span class="font-weight-bold small">End Date:</span> {{miledateEnd}}
              {{/if}}
            </div>
            {{/projectMilestone}}
            {{/if}}
          </td>
          <td class="p-1">
            {{#if updateDependency}}
            <ul class="list-group list-group-flush">
            {{#updateDependency}}
              <li class="list-group-item">
                <span class="small"><a class="document-link clear-filter" href="../{{../../htmlLink}}?search.search={{this}}">{{getLabel this}}</a> [{{getStatus this}}]</span> {{{getstatusButton this "10"}}}
              </li>
            {{/updateDependency}}
            </ul>
            {{/if}}
          </td>
          <td>
            {{workNotes}}
          </td>
        </tr>
        {{/dataProjects}}
      </tbody>
    </table>
    <!-- Main content ends - do not edit below this line -->
{{>footer}}

</html>